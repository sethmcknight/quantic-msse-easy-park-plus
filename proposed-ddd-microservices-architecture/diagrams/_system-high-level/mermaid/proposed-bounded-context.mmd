---
title: Easy Park Plus - Bounded Context Diagram (Proposed)
---

graph TB
    subgraph "Core Domain - Real-time Operations"
        subgraph PO["üöó Parking Operations Context"]
            PO_AGG["`**Visit** (Aggregate Root)
            ‚Ä¢ visit_id: VisitId
            ‚Ä¢ vehicle_registration
            ‚Ä¢ time_range: TimeRange
            ‚Ä¢ assigned_slot_id
            ‚Ä¢ current_status: VisitStatus`"]
            
            PO_ENT["`**Slot** (Operational View - Entity)
            ‚Ä¢ slot_id: SlotId
            ‚Ä¢ operational_status
            ‚Ä¢ last_status_update`"]
            
            PO_VO["`**Value Objects**
            ‚Ä¢ VisitId
            ‚Ä¢ VehicleRegistration
            ‚Ä¢ TimeRange
            ‚Ä¢ SlotOperationalStatus
            ‚Ä¢ GateId
            ‚Ä¢ SensorData
            ‚Ä¢ Location
            ‚Ä¢ VehicleCategory
            ‚Ä¢ GateInteractionDetails
            ‚Ä¢ FallbackLog
            ‚Ä¢ ReconciliationStatus`"]
        end
        
        subgraph EV["‚ö° Electric Vehicle Charging Context"]
            EV_AGG["`**ChargingSession** (Aggregate Root)
            ‚Ä¢ charging_session_id
            ‚Ä¢ charger_id: ChargerId
            ‚Ä¢ energy_consumed: Energy
            ‚Ä¢ current_status
            ‚Ä¢ grace_period_info`"]
            
            EV_ENT["`**Charger** (Entity)
            ‚Ä¢ charger_id: ChargerId
            ‚Ä¢ physical_location
            ‚Ä¢ charger_capabilities
            ‚Ä¢ current_operational_status`"]
            
            EV_VO["`**Value Objects**
            ‚Ä¢ Energy ‚Ä¢ Power ‚Ä¢ Duration
            ‚Ä¢ ChargerCapabilities
            ‚Ä¢ ConnectorType`"]
        end

        subgraph RES["üìÖ Reservations Context"]
            RES_AGG["`**Reservation** (Aggregate Root)
            ‚Ä¢ reservation_id: ReservationId
            ‚Ä¢ requested_resource: ReservedResource
            ‚Ä¢ time_window: TimeRange
            ‚Ä¢ status: ReservationStatus`"]
            
            RES_VO["`**Value Objects**
            ‚Ä¢ ReservedResource
            ‚Ä¢ ResourceType
            ‚Ä¢ SlotAttributes`"]
        end
    end

    subgraph "Financial Domain"
        subgraph PRICE["üí≤ Pricing Context"]
            PRICE_AGG["`**PricingRuleSet** (Aggregate Root)
            ‚Ä¢ rule_set_id: RuleSetId
            ‚Ä¢ applicability_conditions
            ‚Ä¢ rate_definitions
            ‚Ä¢ discount_rules
            ‚Ä¢ tax_rules`"]
            
            PRICE_VO["`**Value Objects**
            ‚Ä¢ ChargeEstimate
            ‚Ä¢ PricingPreview
            ‚Ä¢ Money
            ‚Ä¢ PricingCondition`"]
        end

        subgraph BILL["üí≥ Billing Context"]
            BILL_AGG["`**Bill** (Aggregate Root)
            ‚Ä¢ bill_id: BillId
            ‚Ä¢ related_items: List<BillableItemLink>
            ‚Ä¢ line_items: List<LineItem>
            ‚Ä¢ total_amount: Money
            ‚Ä¢ status: BillStatus`"]
            
            %% Placeholder for PricingRuleSet if it moves to Pricing
            %% BILL_ENT["`**PricingRuleSet** (Entity) ... `"] 
            
            BILL_VO["`**Value Objects**
            ‚Ä¢ Money ‚Ä¢ LineItem`"]
        end
    end
    
    subgraph "Supporting Domain - Business & Customer"
        subgraph CUST["üë§ Customer Context"]
            CUST_AGG["`**Customer** (Aggregate Root)
            ‚Ä¢ customer_id: CustomerId
            ‚Ä¢ profile: CustomerProfile
            ‚Ä¢ linked_vehicles: List<VehicleRegistration>
            ‚Ä¢ passholder_details: PassholderInfo`"]
            
            CUST_VO["`**Value Objects**
            ‚Ä¢ PassholderInfo
            ‚Ä¢ PassholderAccessRule
            ‚Ä¢ PaymentMethod
            ‚Ä¢ CommuterBenefitLink`"]
        end
        
        subgraph VEH["üöô Vehicle Context"]
            VEH_AGG["`**Vehicle** (Aggregate Root)
            ‚Ä¢ vehicle_registration (Primary Key)
            ‚Ä¢ vehicle_details: VehicleDetails
            ‚Ä¢ electric_vehicle_capability
            ‚Ä¢ current_system_status`"]
            
            VEH_VO["`**Value Objects**
            ‚Ä¢ VehicleDetails
            ‚Ä¢ ElectricVehicleCapability
            ‚Ä¢ VehicleSystemStatus
            ‚Ä¢ VehicleCategory`"]
        end
    end

    subgraph "Infrastructure & Policy Domain"
        subgraph IM["üèóÔ∏è Infrastructure Management Context"]
            IM_AGG["`**Lot** (Aggregate Root)
            ‚Ä¢ lot_id: LotId
            ‚Ä¢ lot_address: Address
            ‚Ä¢ total_capacity
            ‚Ä¢ lot_dimensions: Dimensions
            ‚Ä¢ operational_status`"]
            
            IM_ENT["`**Level** (Entity)
            ‚Ä¢ level_id: LevelId
            ‚Ä¢ level_number
            ‚Ä¢ slot_configurations: List<SlotConfiguration>
            
            **Gate** (Entity)
            ‚Ä¢ gate_id: GateId
            ‚Ä¢ gate_type: GateType
            ‚Ä¢ location: Location
            ‚Ä¢ operational_status`"]
            
            IM_VO["`**Value Objects**
            ‚Ä¢ LotId ‚Ä¢ LevelId ‚Ä¢ SlotId ‚Ä¢ GateId
            ‚Ä¢ Address ‚Ä¢ Dimensions ‚Ä¢ Location
            ‚Ä¢ SlotConfiguration
            ‚Ä¢ EquipmentInventoryItem
            ‚Ä¢ PhysicalCapabilities`"]
        end

        subgraph PM["üìú Policy Management Context"]
            PM_AGG["`**GracePeriodPolicy** (Aggregate Root)
            ‚Ä¢ policy_id: PolicyId
            ‚Ä¢ applicable_scope: PolicyScope
            ‚Ä¢ grace_period_rules: List<PolicyRule>
            ‚Ä¢ enforcement_conditions`"]
            
            PM_ENT["`**EventWindow** (Entity)
            ‚Ä¢ window_id: WindowId
            ‚Ä¢ time_range: TimeRange
            ‚Ä¢ applicable_policies
            
            **ValidationProgram** (Entity)
            ‚Ä¢ program_id: ProgramId
            ‚Ä¢ validation_rules
            ‚Ä¢ partner_access_rules`"]
            
            PM_VO["`**Value Objects**
            ‚Ä¢ PolicyRule ‚Ä¢ PolicyScope
            ‚Ä¢ ScopedPolicyBase
            ‚Ä¢ EnforcementCondition
            ‚Ä¢ ValetProvider
            ‚Ä¢ GracePeriodDuration`"]
        end
    end

    subgraph "Operational Support & System Management Domain"
        subgraph SUA["üîë Staff & User Access Context"]
            SUA_AGG["`**UserAccount** (Aggregate Root)
            ‚Ä¢ user_id: UserId
            ‚Ä¢ account_credentials
            ‚Ä¢ assigned_roles: List<Role>
            ‚Ä¢ access_permissions: List<Permission>
            ‚Ä¢ audit_trail: List<AccessEvent>`"]
            
            SUA_ENT["`**Role** (Entity)
            ‚Ä¢ role_id: RoleId
            ‚Ä¢ role_name
            ‚Ä¢ permission_set: List<Permission>
            
            **Permission** (Entity)
            ‚Ä¢ permission_id: PermissionId
            ‚Ä¢ resource_access_scope
            ‚Ä¢ action_capabilities`"]
            
            SUA_VO["`**Value Objects**
            ‚Ä¢ AccessEvent ‚Ä¢ AccessScope
            ‚Ä¢ ActionCapability
            ‚Ä¢ StaffActionAudit
            ‚Ä¢ PartnerCredentials`"]
        end

        subgraph SC["üõ†Ô∏è System Configuration Context"]
            SC_AGG["`**FallbackPolicy** (Aggregate Root)
            ‚Ä¢ fallback_id: FallbackId
            ‚Ä¢ trigger_conditions
            ‚Ä¢ fallback_behavior: FallbackBehavior
            ‚Ä¢ recovery_procedures`"]
            
            SC_ENT["`**SystemParameter** (Entity)
            ‚Ä¢ parameter_id: ParameterId
            ‚Ä¢ parameter_name
            ‚Ä¢ parameter_value
            ‚Ä¢ validation_rules
            ‚Ä¢ update_history`"]
            
            SC_VO["`**Value Objects**
            ‚Ä¢ FallbackBehavior
            ‚Ä¢ TriggerCondition
            ‚Ä¢ OperationalMode
            ‚Ä¢ HealthParameter
            ‚Ä¢ ConfigurationValue`"]
        end

        subgraph EXTINT["üîå External Integrations Context"]
            EXTINT_AGG["`**DeviceConfiguration** (Aggregate Root)
            ‚Ä¢ device_id: DeviceId
            ‚Ä¢ device_type: DeviceType
            ‚Ä¢ connection_details: ConnectionConfig
            ‚Ä¢ operational_status
            ‚Ä¢ last_health_check`"]
            
            EXTINT_ENT["`**IntegrationConfig** (Entity)
            ‚Ä¢ integration_id: IntegrationId
            ‚Ä¢ third_party_service: ServiceType
            ‚Ä¢ api_contract: ApiContract
            ‚Ä¢ connectivity_status`"]
            
            EXTINT_VO["`**Value Objects**
            ‚Ä¢ ConnectionConfig ‚Ä¢ ApiContract
            ‚Ä¢ ServiceType ‚Ä¢ DeviceType
            ‚Ä¢ HealthCheckResult
            ‚Ä¢ ThirdPartyCredentials`"]
        end
        
        subgraph INC["üö® Incident & Enforcement Context"]
            INC_AGG["`**IncidentReport** (Aggregate Root)
            ‚Ä¢ report_id: ReportId
            ‚Ä¢ report_type: ReportType
            ‚Ä¢ actions_taken: List<EnforcementAction>
            ‚Ä¢ associated_tow_job_id`"]
            
            INC_ENT["`**TowJob** (Entity)
            ‚Ä¢ tow_job_id: TowJobId
            ‚Ä¢ dispatch_details
            ‚Ä¢ status: TowJobStatus`"]
            
            INC_VO["`**Value Objects**
            ‚Ä¢ EnforcementAction
            ‚Ä¢ EvidenceLink
            ‚Ä¢ TowDispatchInfo`"]
        end
    end
    
    subgraph "Cross-Cutting Concerns & Analytics Domain"
        subgraph ANA["üìä Analytics & Reporting Context"]
            ANA_RM1["`**Read Models**
            ‚Ä¢ LotUtilizationDailySummary
            ‚Ä¢ VehicleVisitHistoryReport
            ‚Ä¢ RevenueByCustomerType
            ‚Ä¢ IncidentTrendReport
            ‚Ä¢ OccupancyForecast`"]
        end

        subgraph AUDIT["üõ°Ô∏è Internal Audit & Event Trace Context"]
            AUDIT_AGG["`**AuditLog** (Aggregate Root)
            ‚Ä¢ audit_id: AuditId
            ‚Ä¢ logged_events: List<EventTrace>
            ‚Ä¢ compliance_markers
            ‚Ä¢ retention_policy: RetentionPolicy`"]
            
            AUDIT_ENT["`**EventTrace** (Entity)
            ‚Ä¢ trace_id: TraceId
            ‚Ä¢ source_context: ContextId
            ‚Ä¢ event_data: EventData
            ‚Ä¢ timestamp
            ‚Ä¢ correlation_id`"]
            
            AUDIT_VO["`**Value Objects**
            ‚Ä¢ EventData ‚Ä¢ ContextId
            ‚Ä¢ ComplianceMarker
            ‚Ä¢ RetentionPolicy
            ‚Ä¢ SlaEnforcement
            ‚Ä¢ DebuggingMetadata`"]
        end
    end
    
    %% Show key relationships with dotted lines (Illustrative - to be refined based on detailed interactions)
    PO_AGG -.->|"Links to"| EV_AGG
    PO_AGG -.->|"References"| RES_AGG
    PO_AGG -.->|"Uses Policies from"| PM
    PO_AGG -.->|"Uses Infrastructure from"| IM
    PO_AGG -.->|"Informs"| PRICE
    
    BILL_AGG -.->|"Bills for"| PO_AGG
    BILL_AGG -.->|"Bills for"| EV_AGG
    BILL_AGG -.->|"Uses Pricing from"| PRICE

    CUST_AGG -.->|"Owns"| VEH_AGG
    CUST_AGG -.->|"Makes"| RES_AGG
    
    RES_AGG -.->|"Impacts Slot Status in"| PO
    
    %% e.g., Charger location
    EV_AGG -.->|"Uses Infrastructure from"| IM
    EV_AGG -.->|"Informs"| PRICE

    PRICE -.->|"Provides data to"| BILL
    
    IM -.->|"Provides data to"| PO
    IM -.->|"Provides data to"| EV
    
    PM -.->|"Provides policies to"| PO
    PM -.->|"Provides policies to"| EV
    PM -.->|"Provides policies to"| PRICE
    PM -.->|"Provides policies to"| BILL

    INC -.->|"Relates to"| PO_AGG
    INC -.->|"Relates to"| VEH_AGG

    SUA -.->|"Manages access for staff interacting with"| PO
    SUA -.->|"Manages access for staff interacting with"| INC
    %% e.g., Fallback Policies
    SC -.->|"Configures"| PO
    SC -.->|"Configures"| EV
    %% e.g., ANPR, Sensors
    EXTINT -.->|"Integrates with"| PO
    %% e.g., Charging Hardware APIs
    EXTINT -.->|"Integrates with"| EV
    %% e.g., ANPR, Sensors
    EXTINT -.->|"Integrates with"| PO
    %% e.g., Charging Hardware APIs
    EXTINT -.->|"Integrates with"| EV

    ANA -.->|"Consumes data from"| PO
    ANA -.->|"Consumes data from"| EV
    ANA -.->|"Consumes data from"| BILL
    ANA -.->|"Consumes data from"| CUST
    ANA -.->|"Consumes data from"| RES
    ANA -.->|"Consumes data from"| INC

    AUDIT -.->|"Subscribes to events from"| PO
    AUDIT -.->|"Subscribes to events from"| EV
    AUDIT -.->|"Subscribes to events from"| BILL
    AUDIT -.->|"Subscribes to events from"| PRICE
    AUDIT -.->|"Subscribes to events from"| CUST
    AUDIT -.->|"Subscribes to events from"| VEH
    AUDIT -.->|"Subscribes to events from"| RES
    AUDIT -.->|"Subscribes to events from"| IM
    AUDIT -.->|"Subscribes to events from"| PM
    AUDIT -.->|"Subscribes to events from"| SUA
    AUDIT -.->|"Subscribes to events from"| SC
    AUDIT -.->|"Subscribes to events from"| EXTINT
    AUDIT -.->|"Subscribes to events from"| INC
    
    %% Styling
    classDef coreAgg fill:#ff6b6b,stroke:#d63031,stroke-width:3px,color:#fff
    classDef supportingAgg fill:#4ecdc4,stroke:#00b894,stroke-width:2px,color:#fff
    classDef financialAgg fill:#feca57,stroke:#ff9f43,stroke-width:2px,color:#333
    classDef infraPolicyAgg fill:#54a0ff,stroke:#2e86de,stroke-width:2px,color:#fff
    classDef opsSupportAgg fill:#9b59b6,stroke:#8e44ad,stroke-width:2px,color:#fff
    classDef crossCuttingAgg fill:#1dd1a1,stroke:#10ac84,stroke-width:2px,color:#fff
    classDef entity fill:#fdcb6e,stroke:#e17055,stroke-width:2px,color:#333
    classDef valueObj fill:#e17055,stroke:#d63031,stroke-width:1px,color:#fff
    classDef readModel fill:#a29bfe,stroke:#6c5ce7,stroke-width:2px,color:#fff
    classDef contextDesc fill:#dfe6e9,stroke:#b2bec3,stroke-width:1px,color:#333,padding:5px

    class PO_AGG,EV_AGG,RES_AGG coreAgg
    class CUST_AGG,VEH_AGG supportingAgg
    class PRICE_AGG,BILL_AGG financialAgg
    class IM_AGG,PM_AGG infraPolicyAgg
    class SUA_AGG,SC_AGG,EXTINT_AGG,INC_AGG opsSupportAgg
    class ANA,AUDIT_AGG crossCuttingAgg

    class PO_ENT,EV_ENT,IM_ENT,PM_ENT,SUA_ENT,SC_ENT,EXTINT_ENT,AUDIT_ENT,INC_ENT entity
    class PO_VO,EV_VO,BILL_VO,CUST_VO,VEH_VO,RES_VO,PRICE_VO,IM_VO,PM_VO,SUA_VO,SC_VO,EXTINT_VO,AUDIT_VO,INC_VO valueObj
    class ANA_RM1 readModel
    
    %% Apply styling to context subgraphs
    %% Mermaid does not support applying classes to subgraphs directly; remove these lines or only use node IDs.